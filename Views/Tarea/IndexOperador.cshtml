@{
    ViewData["Title"] = "Tareas";
    string Title = "Lista de Tareas";
}
@using Taller2_TP10.ViewModels
@model IndexOperadorViewModel


<table class="table table-success">
    <thead>
        <tr><th colspan="9">Tareas Propias del usuario</th></tr>
        <tr>
            <th scope="col">Tablero asignado</th>
            <th scope="col">Nombre de la tarea</th>
            <th scope="col">Estado de la tarea</th>
            <th scope="col">Descripcion de la tarea</th>
            <th scope="col">Color de la tarea</th>
            <th scope="col">Usuario asignado a la tarea</th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var tarea in Model.TareasPropias)
        {
            <tr>
                <td scope= "row">@Model.ObtenerTableroAsociado(tarea.IdTablero)</td>
                <td>@tarea.Nombre</td>
                <td>@tarea.EstadoTarea</td>
                <td>@tarea.Descripcion</td>
                <td>@tarea.Color</td>
                <td>@Model.ObtenerUsuarioAsignado(tarea.IdUsuarioAsignado)</td>
                <td><a class="btn btn-warning " asp-controller="Tarea" asp-action="ModificarTarea" asp-route-idTarea="@tarea.Id"><strong>Modificar Tarea</strong></a></td>
                <td><a class="btn btn-danger " asp-controller="Tarea" asp-action="EliminarTarea" asp-route-idTarea="@tarea.Id" onclick="return confirm('¿Seguro que quieres eliminar esta tarea?')"><strong>Eliminar</strong></a></td> 
                <td><a class="btn btn-info " asp-controller="Tarea" asp-action="AsignarUsuarioATarea" asp-route-idTarea="@tarea.Id"><strong>Asignar usuario a tarea</strong></a></td>
            </tr>
        }

    </tbody>
</table>

<table class="table table-primary">
    <thead>
        <tr><th colspan="9">Tareas asignadas al usuario</th></tr>
        <tr>
            <th scope="col">Tablero asignado</th>
            <th scope="col">Nombre de la tarea</th>
            <th scope="col">Estado de la tarea</th>
            <th scope="col">Descripcion de la tarea</th>
            <th scope="col">Color de la tarea</th>
            <th scope="col">Usuario asignado a la tarea</th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var tarea in Model.TareasAsociadas)
        {
            <tr>
                <td scope= "row">@Model.ObtenerTableroAsociado(tarea.IdTablero)</td>
                <td>@tarea.Nombre</td>
                <td>@tarea.EstadoTarea</td>
                <td>@tarea.Descripcion</td>
                <td>@tarea.Color</td>
                <td>@Model.ObtenerUsuarioAsignado(tarea.IdUsuarioAsignado)</td>
                <td><a class="btn btn-warning" asp-controller="Tarea" asp-action="ModificarEstado" asp-route-idTarea="@tarea.Id"><strong>Modificar Estado</strong></a></td>
            </tr>
        }

    </tbody>
</table>

<table class="table table-warning">
    <thead>
        <tr><th colspan="9" align="">Tareas no asignadas al usuario</th></tr>
        <tr>
            <th scope="col">Tablero asignado</th>
            <th scope="col">Nombre de la tarea</th>
            <th scope="col">Estado de la tarea</th>
            <th scope="col">Descripcion de la tarea</th>
            <th scope="col">Color de la tarea</th>
            <th scope="col">Usuario asignado a la tarea</th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var tarea in Model.TareasNoAsociadas)
        {
            <tr>
                <td scope= "row">@Model.ObtenerTableroAsociado(tarea.IdTablero)</td>
                <td>@tarea.Nombre</td>
                <td>@tarea.EstadoTarea</td>
                <td>@tarea.Descripcion</td>
                <td>@tarea.Color</td>
                <td>@Model.ObtenerUsuarioAsignado(tarea.IdUsuarioAsignado)</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        }

    </tbody>
</table>
<button type="submit" class="btn btn-primary"><a class="nav-link text-white" asp-controller="Tarea" asp-action="CrearTarea" >Crear</a></button>



        